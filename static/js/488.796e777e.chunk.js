"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[488],{7488:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var a=n(3433),r=n(2791),s="ContactList_list__csErn",c="ContactList_item__EZYHO",o="ContactList_link__SuaLH",i="ContactList_button__7kL4l",l="ContactList_subtitle__sjzfd",u="ContactList_buttonDelete__3LEoC",d="ContactList_loaderWrapper__goayi",m=n(9434),h=n(7671),f=n(1686),_=n(4414),p=function(e){return e.contacts.contacts.items},b=function(e){return e.contacts.contacts.isLoading},v=function(e){return e.contacts.filter},x=n(27),y=n(9439),C="ModalEdit_closeBtn__C1Xdb",j="ModalEdit_modal__qHL5S",N="ModalEdit_wrapper__Ji4aZ",w="ModalEdit_overlay__NLf+E",L="ModalEdit_title__hTaq7",E="ModalEdit_subtitle__MZsWw",g="ModalEdit_form__BYjr7",k="ModalEdit_input__lQxNb",M="ModalEdit_button__Iw1sV",Z=function(e){return e.modal.isOpenModal},A=function(e){return e.modal.modalData},S=n(184),q=function(){var e=(0,m.I0)(),t=(0,m.v9)(A),n=(0,m.v9)(p);(0,r.useEffect)((function(){var t=function(t){"Escape"===t.code&&e((0,x.Mr)())};return window.addEventListener("keydown",t),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",t),document.body.style.overflow="auto"}}),[e]);return(0,S.jsx)("div",{onClick:function(t){t.target===t.currentTarget&&e((0,x.Mr)())},className:w,children:(0,S.jsxs)("div",{className:j,children:[(0,S.jsx)("button",{className:C,onClick:function(){return e((0,x.Mr)())},children:"\u274c"}),(0,S.jsxs)("div",{className:N,children:[(0,S.jsx)("h3",{className:L,children:"Edit contact:"}),(0,S.jsxs)("p",{className:E,children:['"',t.name," : ",t.number,'"']}),(0,S.jsxs)("form",{className:g,onSubmit:function(a){a.preventDefault();var r=(0,y.Z)(a.target.elements,2),s=r[0],c=r[1],o=n.some((function(e){return e.name.toLowerCase()===s.value.toLowerCase()&&e.id!==t.id})),i=n.some((function(e){return e.number===c.value&&e.id!==t.id}));if(o)alert("A contact with that name already exists, try changing the name");else if(i)alert("A contact with this phone number already exists");else{var l={name:s.value,number:c.value,id:t.id};try{e((0,h.mP)(l)),e((0,x.cU)(l))}catch(u){f.Notify.error('Contact "'.concat(l.name,'" not edited.  Error: ').concat(u.message))}finally{f.Notify.success('Contact "'.concat(l.name,'"  edited successfully'))}}},children:[(0,S.jsx)("input",{className:k,type:"text",name:"name",defaultValue:t.name,placeholder:"Enter new name",required:!0,pattern:"^[A-Za-z\u0410-\u042f\u0430-\u044f\u0407\u0457\u0406\u0456\\d\\s]+$",title:"You can enter letters of the Latin and Cyrillic alphabets, numbers, and spaces."}),(0,S.jsx)("input",{className:k,type:"tel",name:"number",defaultValue:t.number,placeholder:"Enter new number",required:!0,pattern:"^[\\d+\\s\\-*#]{5,18}$",title:"Phone number can contain digits, spaces, hyphens, or symbols like *, #, etc. Length: 5-18 characters."}),(0,S.jsx)("button",{type:"submit",className:M,title:"Change this contact information",children:"Change information"})]})]})]})})},D=function(){var e=(0,m.I0)();(0,r.useEffect)((function(){e((0,h.CL)())}),[e]);var t=(0,m.v9)(p),n=(0,m.v9)(v),y=(0,m.v9)(b),C=(0,m.v9)(Z),j=t.filter((function(e){return e.name.trim().toLowerCase().includes(n.toLowerCase().trim())||e.number.trim().toString().includes(n.toLowerCase().trim())})),N=(0,a.Z)(j).sort((function(e,t){return e.name.localeCompare(t.name)}));return(0,S.jsxs)("ul",{className:s,children:[y&&(0,S.jsx)("div",{className:d,children:(0,S.jsx)(_.Z,{})}),N.length>0?N.map((function(t){return(0,S.jsxs)("li",{className:c,children:[(0,S.jsx)("button",{className:i,title:"Edit this conatct",onClick:function(){return e((0,x.h7)(t))},children:"\ud83d\udd8a"}),(0,S.jsxs)("a",{className:o,href:"tel:".concat(t.number),children:[(0,S.jsxs)("span",{children:[(0,S.jsx)("b",{children:t.name}),":"]}),(0,S.jsxs)("span",{children:[" ",t.number]})]}),(0,S.jsx)("button",{className:"".concat(i," ").concat(u),onClick:function(){return n=t.name,a=t.id,e((0,h.GK)(a)),void f.Notify.info('Contact "'.concat(n,'" deleted'));var n,a},title:'Delete contact "'.concat(t.name,'"'),children:"Delete"})]},t.id)})):(0,S.jsx)("h3",{className:l,children:"No contacts found."}),C&&(0,S.jsx)(q,{})]})},F="Filter_input__N7T3z",I=function(){var e=(0,m.I0)();return(0,S.jsx)("input",{className:F,type:"text",placeholder:"Search...",onChange:function(t){return e((0,h.xO)(t.target.value))},title:"Search by name or phone number"})},P=n(8971),z="ContactForm_form__dhl+T",T="ContactForm_input__Bl93P",Y="ContactForm_button__eSwX9",$=function(){var e=(0,m.I0)(),t=(0,m.v9)(p);return(0,S.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=(0,y.Z)(n.target.elements,2),r=a[0],s=a[1];if(t.some((function(e){return e.name.toLowerCase()===r.value.toLowerCase()})))alert("A contact with that name (".concat(r.value.toLowerCase(),") already exists, try changing the name"));else if(t.some((function(e){return e.number===s.value})))alert("A contact with this phone number (".concat(s.value,") already exists"));else{var c={name:r.value,number:s.value};try{e((0,h.uK)(c)),r.value="",s.value=""}catch(o){f.Notify.error('Contact "'.concat(c.name,'" not added.  Error: ').concat(o.message))}finally{f.Notify.success('Contact "'.concat(c.name,'"  added successfully'))}}},className:z,children:[(0,S.jsx)("input",{className:T,type:"text",name:"name",placeholder:"Enter name",required:!0,pattern:"^[A-Za-z\u0410-\u042f\u0430-\u044f\u0407\u0457\u0406\u0456\\d\\s]+$",title:"You can enter letters of the Latin and Cyrillic alphabets, numbers, and spaces."}),(0,S.jsx)("input",{className:T,type:"tel",name:"number",placeholder:"Enter number",required:!0,pattern:"^[\\d+\\s\\-*#]{5,18}$",title:"Phone number can contain digits, spaces, hyphens, or symbols like *, #, etc. Length: 5-18 characters."}),(0,S.jsx)("button",{type:"submit",className:Y,title:"Add new contact",children:"Add contact"})]})},B=function(){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h1",{className:P.Z.title,children:"Phonebook"}),(0,S.jsx)($,{}),(0,S.jsx)("h2",{className:P.Z.subtitle,children:"Contacts"}),(0,S.jsx)(I,{}),(0,S.jsx)(D,{})]})}},8971:function(e,t){t.Z={title:"styles_title__Eys6g",subtitle:"styles_subtitle__DqUiJ"}}}]);
//# sourceMappingURL=488.796e777e.chunk.js.map