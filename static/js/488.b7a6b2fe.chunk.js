"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[488],{7488:function(t,e,n){n.r(e),n.d(e,{default:function(){return W}});var a=n(3433),r=n(2791),s="ContactList_list__csErn",o="ContactList_item__EZYHO",c="ContactList_link__SuaLH",i="ContactList_button__7kL4l",l="ContactList_subtitle__sjzfd",u="ContactList_buttonDelete__3LEoC",d="ContactList_loaderWrapper__goayi",m=n(9434),_=n(7671),h=n(1686),f=n(4414),p=function(t){return t.contacts.contacts.items},b=function(t){return t.contacts.contacts.isLoading},y=function(t){return t.contacts.filter},v=n(27),x=n(9439),C="ModalEdit_closeBtn__C1Xdb",j="ModalEdit_modal__qHL5S",w="ModalEdit_wrapper__Ji4aZ",N="ModalEdit_overlay__NLf+E",E="ModalEdit_title__hTaq7",L="ModalEdit_subtitle__MZsWw",g="ModalEdit_form__BYjr7",k="ModalEdit_input__lQxNb",M="ModalEdit_button__Iw1sV",Z=function(t){return t.modal.isOpenModal},D=function(t){return t.modal.modalData},A=n(184),I=function(){var t=(0,m.I0)(),e=(0,m.v9)(D),n=(0,m.v9)(p);(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t((0,v.Mr)())};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",e),document.body.style.overflow="auto"}}),[t]);return(0,A.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&t((0,v.Mr)())},className:N,children:(0,A.jsxs)("div",{className:j,children:[(0,A.jsx)("button",{className:C,onClick:function(){return t((0,v.Mr)())},children:"\u274c"}),(0,A.jsxs)("div",{className:w,children:[(0,A.jsx)("h3",{className:E,children:"Edit contact:"}),(0,A.jsxs)("p",{className:L,children:['"',e.name," : ",e.number,'"']}),(0,A.jsxs)("form",{className:g,onSubmit:function(a){a.preventDefault();var r=(0,x.Z)(a.target.elements,2),s=r[0],o=r[1],c=n.some((function(t){return t.name.toLowerCase()===s.value.toLowerCase()&&t.id!==e.id})),i=n.some((function(t){return t.number===o.value&&t.id!==e.id}));if(c)alert("A contact with that name already exists, try changing the name");else if(i)alert("A contact with this phone number already exists");else{var l={name:s.value,number:o.value,id:e.id};try{t((0,_.mP)(l)).unwrap().then((function(){return h.Notify.success('Contact "'.concat(l.name,'"  edited successfully'))})),t((0,v.cU)(l))}catch(u){h.Notify.error('Contact "'.concat(l.name,'" not edited.  Error: ').concat(u.message))}}},children:[(0,A.jsx)("input",{className:k,type:"text",name:"name",defaultValue:e.name,placeholder:"Enter new name",required:!0,pattern:"^[A-Za-z\u0410-\u042f\u0430-\u044f\u0407\u0457\u0406\u0456\\d\\s]+$",title:"You can enter letters of the Latin and Cyrillic alphabets, numbers, and spaces."}),(0,A.jsx)("input",{className:k,type:"text",name:"number",defaultValue:e.number,placeholder:"Enter new number",required:!0,pattern:"^[\\d+\\s\\-*#]{5,18}$",title:"Phone number can contain digits, spaces, hyphens, or symbols like *, #, etc. Length: 5-18 characters."}),(0,A.jsx)("button",{type:"submit",className:M,title:"Change this contact information",children:"Change information"})]})]})]})})},S=function(){var t=(0,m.I0)();(0,r.useEffect)((function(){t((0,_.CL)())}),[t]);var e=(0,m.v9)(p),n=(0,m.v9)(y),x=(0,m.v9)(b),C=(0,m.v9)(Z),j=e.filter((function(t){return t.name.trim().toLowerCase().includes(n.toLowerCase().trim())||t.number.trim().toString().includes(n.toLowerCase().trim())})),w=(0,a.Z)(j).sort((function(t,e){return t.name.localeCompare(e.name)}));return(0,A.jsxs)("ul",{className:s,children:[x&&(0,A.jsx)("div",{className:d,children:(0,A.jsx)(f.Z,{})}),w.length>0?w.map((function(e){return(0,A.jsxs)("li",{className:o,children:[(0,A.jsx)("button",{className:i,title:"Edit this conatct",onClick:function(){return t((0,v.h7)(e))},children:"\ud83d\udd8a"}),(0,A.jsxs)("a",{className:c,href:"tel:".concat(e.number),children:[(0,A.jsxs)("span",{children:[(0,A.jsx)("b",{children:e.name}),":"]}),(0,A.jsxs)("span",{children:[" ",e.number]})]}),(0,A.jsx)("button",{className:"".concat(i," ").concat(u),onClick:function(){return n=e.name,a=e.id,void t((0,_.GK)(a)).unwrap().then((function(){return h.Notify.info('Contact "'.concat(n,'" deleted'))}));var n,a},title:'Delete contact "'.concat(e.name,'"'),children:"Delete"})]},e.id)})):(0,A.jsx)("h3",{className:l,children:"No contacts found."}),C&&(0,A.jsx)(I,{})]})},q="Filter_input__N7T3z",B=function(){var t=(0,m.I0)();return(0,A.jsx)("input",{className:q,type:"text",placeholder:"Search...",onChange:function(e){return t((0,_.xO)(e.target.value))},title:"Search by name or phone number"})},F=n(8971),P="ContactForm_form__dhl+T",T="ContactForm_input__Bl93P",z="ContactForm_button__eSwX9",V=function(){var t=(0,m.I0)(),e=(0,m.v9)(p);return(0,A.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=(0,x.Z)(n.target.elements,2),r=a[0],s=a[1];if(e.some((function(t){return t.name.toLowerCase()===r.value.toLowerCase()})))alert("A contact with that name (".concat(r.value.toLowerCase(),") already exists, try changing the name"));else if(e.some((function(t){return t.number===s.value})))alert("A contact with this phone number (".concat(s.value,") already exists"));else{var o={name:r.value,number:s.value};try{t((0,_.uK)(o)).unwrap().then((function(){n.target.reset()})).then((function(){h.Notify.success('Contact "'.concat(o.name,'"  added successfully'))}))}catch(c){h.Notify.error('Contact "'.concat(o.name,'" not added.  Error: ').concat(c.message))}}},className:P,children:[(0,A.jsx)("input",{className:T,type:"text",name:"name",placeholder:"Enter name",required:!0,pattern:"^[A-Za-z\u0410-\u042f\u0430-\u044f\u0407\u0457\u0406\u0456\\d\\s]+$",title:"You can enter letters of the Latin and Cyrillic alphabets, numbers, and spaces."}),(0,A.jsx)("input",{className:T,type:"tel",name:"number",placeholder:"Enter number",required:!0,pattern:"^[\\d+\\s\\-*#]{5,18}$",title:"Phone number can contain digits, spaces, hyphens, or symbols like *, #, etc. Length: 5-18 characters."}),(0,A.jsx)("button",{type:"submit",className:z,title:"Add new contact",children:"Add contact"})]})},W=function(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h1",{className:F.Z.title,children:"Phonebook"}),(0,A.jsx)(V,{}),(0,A.jsx)("h2",{className:F.Z.subtitle,children:"Contacts"}),(0,A.jsx)(B,{}),(0,A.jsx)(S,{})]})}},8971:function(t,e){e.Z={title:"styles_title__Eys6g",subtitle:"styles_subtitle__DqUiJ",homeTitle:"styles_homeTitle__lV-0B",form:"styles_form__oR3c0",label:"styles_label__IRvBR",input:"styles_input__t9D6P",button:"styles_button__6oMs0",loaderInButton:"styles_loaderInButton__jiDkE",loaderWrapper:"styles_loaderWrapper__8F74E"}}}]);
//# sourceMappingURL=488.b7a6b2fe.chunk.js.map